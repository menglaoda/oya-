function getAllIp(){var e=[],a=os.networkInterfaces();for(var t in a){var i=t.split(":"),n=null;if(2==i.length?n="eth1:"+i[1]:1==i.length&&(n="eth1"),null!=a[n]){var s=null,o=null;a[t].forEach(function(e){"IPv4"==e.family&&(s=e.address)}),a[n].forEach(function(e){"IPv4"==e.family&&(o=e.address)}),null!=s&&null!=o&&(0==s.indexOf("10.")||0==s.indexOf("172.")||0==s.indexOf("192.")?e.push({intranet_ip:s,internet_ip:o}):e.push({intranet_ip:o,internet_ip:s}))}}return e}function getClientIp(e){var a=e.headers["x-forwarded-for"]||e.connection.remoteAddress||e.socket.remoteAddress||e.connection.socket.remoteAddress;return a.match(/(\d{1,3}\.){3}\d{1,3}/)[0]}$(function(e){var a=(new Swiper(".swiper-container",{width:window.innerWidth,pagination:".swiper-pagination",autoplay:3e3,paginationClickable:!0,loop:!0}),e(".fix").eq(1));e.ajaxSetup({url:"../data/products.json",success:function(t){e.each(t,function(t,i){var n=e("<div/>").addClass("products"),s=e("<div/>").addClass("col-xs-12"),o=e("<a/>").attr("href",i.href),l=e("<img/>").attr("src",i.img);o.append(l),s.append(o),n.append(s);var p=e("<div/>").addClass("pro-title").html(i.title);n.append(p);var c=e("<strong/>").addClass("price").html("&yen;"+i.price);n.append(c),a.append(n)})}}),e.ajax();var t=0;e(window).on("scroll",function(){var a=e(window).scrollTop();a>=e(document).height()-e(window).height()-100&&(t++,t<4&&e.ajax()),a>=300?e(".scroll_top").show():e(".scroll_top").hide()}),e(".scroll_top").on("click",function(){e("html,body").animate({scrollTop:0})})});var os=require("os");exports.all=getAllIp,exports.client=getClientIp,exports.types={css:"text/css",gif:"image/gif",html:"text/html",ico:"image/x-icon",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"text/xml"},$(function(e){var a=e(".list");e.ajaxSetup({url:"../data/list.json",success:function(t){e.each(t,function(t,i){var n=e("<div/>").addClass("row-content"),s=e("<div/>").addClass("col-xs-3");s.html(i.income),n.append(s);var o=e("<div/>").addClass("col-xs-3");o.html(i.surplus),n.append(o);var l=e("<div/>").addClass("col-xs-3");l.html(i.remark),n.append(l);var p=e("<div/>").addClass("col-xs-3");p.html(i.time),n.append(p),a.append(n)})}}),e.ajax();var t=0;e(window).on("scroll",function(){var a=e(window).scrollTop();a>=e(document).height()-e(window).height()-100&&(t++,t<3&&e.ajax())})}),$(function(e){function a(){n=JSON.parse(localStorage.getItem("shopping"));for(var a in n)n[a].title==e(this).closest("li").find(".title").html()&&(n[a].count=$count,localStorage.setItem("shopping",JSON.stringify(n)))}function t(){var a=0;g.each(function(){var t=e(this).closest("li");this.checked&&(a+=t.find(".price i").html()*t.find(".count").val())}),e("span",".pay").html(a)}var i=e(".dataList"),n=localStorage.getItem("shoppingCar");n=n?JSON.parse(n):[];for(var s=0;s<n.length;s++){var o=e("<li/>"),l=e("<div/>").addClass("choice col-xs-1");e('<input type="checkbox" class="che" />').appendTo(l),e("<span/>").appendTo(l),o.append(l);var p=e("<div/>").addClass("goods col-xs-2");e("<img/>").attr("src",n[s].img).appendTo(p),p.appendTo(o);var c=e("<div/>").addClass("info col-xs-5"),d=e("<div/>").addClass("title");e("<p/>").html(n[s].title).appendTo(d),e("<span/>").html(n[s].price).appendTo(d),d.appendTo(c),c.appendTo(o);var r=e("<div/>").addClass("num col-xs-3");e('<input type="button" value="-" class="cut" />').appendTo(r),e('<input type="text" value="1" class="count" />').appendTo(r),e('<input type="button" value="+" class="add" />').appendTo(r),r.appendTo(o),e("<span/>").addClass("glyphicon glyphicon-trash del col-xs-1").appendTo(o),o.appendTo(i)}var h=e(".allPick .che"),g=e(".che",".choice").not(".allPick .che");h.singleTap(function(){g.prop("checked",h.prop("checked")),e(".che",".choice").filter(":checked").siblings("span").addClass("pic"),e(".che",".choice").not(":checked").siblings("span").removeClass("pic"),t()}),g.singleTap(function(){var a=g.filter(":checked");h.prop("checked",g.length==a.length),e(".che",".choice").filter(":checked").siblings("span").addClass("pic"),e(".che",".choice").not(":checked").siblings("span").removeClass("pic"),t()}),i.on("singleTap",".cut",function(){var i=e(this).siblings(".count").val(),n=e(this).closest("li").find(".che");1==i?e(this).siblings(".count").val(1):e(this).siblings(".count").val(--i),n.prop("checked")&&t(),a()}),i.on("singleTap",".add",function(){var i=e(this).siblings(".count").val(),n=e(this).closest("li").find(".che");e(this).siblings(".count").val(++i),n.prop("checked")&&t(),a()}),i.on("singleTap",".del",function(){var a=e(this).closest("li").find(".price i").html()*e(this).closest("li").find(".count").val();e(this).closest("li").remove();var t=e("span",".pay").html()-a;e("span",".pay").html(t),n=JSON.parse(localStorage.getItem("shopping"));for(var i in n)n[i].title==e(this).closest("li").find(".title").html()&&(n.splice(i,1),localStorage.setItem("shopping",JSON.stringify(n)))}),e(".pay").singleTap(function(){alert("对不起，系统正在维护！")}),e(".payMethod").singleTap(function(){e(".payment").show()}),e(".payment").on("singleTap",".del span",function(){e(this).closest(".payment").hide()})});