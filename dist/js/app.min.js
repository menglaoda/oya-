function getAllIp(){var a=[],t=os.networkInterfaces();for(var e in t){var n=e.split(":"),i=null;if(2==n.length?i="eth1:"+n[1]:1==n.length&&(i="eth1"),null!=t[i]){var s=null,o=null;t[e].forEach(function(a){"IPv4"==a.family&&(s=a.address)}),t[i].forEach(function(a){"IPv4"==a.family&&(o=a.address)}),null!=s&&null!=o&&(0==s.indexOf("10.")||0==s.indexOf("172.")||0==s.indexOf("192.")?a.push({intranet_ip:s,internet_ip:o}):a.push({intranet_ip:o,internet_ip:s}))}}return a}function getClientIp(a){var t=a.headers["x-forwarded-for"]||a.connection.remoteAddress||a.socket.remoteAddress||a.connection.socket.remoteAddress;return t.match(/(\d{1,3}\.){3}\d{1,3}/)[0]}$(function(){var a=(new Swiper(".swiper-container",{pagination:".swiper-pagination",visibilityFullFit:!1,autoplay:2e3,loop:!0}),$("ul.ul-li").find("li")),t=$(".goods"),e=$(".comment-list");a.each(function(a){var n=$(this);n.on("singleTap",function(){n.addClass("active").siblings().removeClass("active"),0==a?(t.css({display:"block"}),e.css({display:"none"})):1==a&&(t.css({display:"none"}),e.css({display:"block"}))})});var n=$(".payMethod");localStorage.getItem("count")?(total=JSON.parse(localStorage.getItem("count")),$(".num").html(JSON.parse(localStorage.getItem("count")))):total=parseInt($(".num").html()),n.on("singleTap",function(){var a,t={};if(localStorage.getItem("shoppingCar")){a=JSON.parse(localStorage.getItem("shoppingCar"));for(var e=0;e<a.length;e++)if(a[e].title==$(".xinxi").find(".namee").html()){a[e].count=a[e].count+1;break}e>a.length-1&&(t={title:$(".xinxi").find(".namee").html(),img:$(".swiper-wrapper").find("img").eq(0).attr("src"),price:$(".xinxi").find(".price i").html(),count:1},total++,$(".num").html(total),a.push(t))}else a=[],t={title:$(".xinxi").find(".namee").html(),img:$(".swiper-wrapper").find("img").eq(0).attr("src"),price:$(".xinxi").find(".price i").html(),count:1},total++,$(".num").html(total),a.push(t);a=JSON.stringify(a),localStorage.setItem("shoppingCar",a),localStorage.setItem("count",total)})}),$(function(a){var t=(new Swiper(".swiper-container",{width:window.innerWidth,pagination:".swiper-pagination",autoplay:3e3,paginationClickable:!0,loop:!0}),a(".fix").eq(1));a.ajaxSetup({url:"../data/products.json",success:function(e){a.each(e,function(e,n){var i=a("<div/>").addClass("products"),s=a("<div/>").addClass("col-xs-12"),o=a("<a/>").attr("href",n.href),l=a("<img/>").attr("src",n.img);o.append(l),s.append(o),i.append(s);var p=a("<div/>").addClass("pro-title").html(n.title);i.append(p);var d=a("<strong/>").addClass("price").html("&yen;"+n.price);i.append(d),t.append(i)})}}),a.ajax();var e=0;a(window).on("scroll",function(){var t=a(window).scrollTop();t>=a(document).height()-a(window).height()-100&&(e++,e<4&&a.ajax()),t>=300?a(".scroll_top").show():a(".scroll_top").hide()}),a(".scroll_top").on("click",function(){a("html,body").animate({scrollTop:0})})});var os=require("os");exports.all=getAllIp,exports.client=getClientIp,$(function(){var a=$(".list-brand li"),t=$(".rightt");console.log(t),a.click(function(){var a=$(this).index();console.log(a),$(this).addClass("active").siblings().removeClass("active"),t.eq(a).css("zIndex","100").siblings().css("zIndex","1")})}),exports.types={css:"text/css",gif:"image/gif",html:"text/html",ico:"image/x-icon",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"text/xml"},$(function(a){var t=a("input"),e=a(".txt"),n=a("#sheng"),i=a("#shenglist"),s=a("#shi"),o=a("#shilist"),l=a("#xian"),p=a("#xianlist");t.eq(0).on("blur",function(){var a=t.eq(0).val();if(""==a)e.html("你的小昵称呢？");else{var n=/^.{2,10}/,i=n.test(a);i?e.html("帅气的小名"):(e.html("什么玩意！"),t.eq(1).val(""))}}),t.eq(1).on("blur",function(){var a=t.eq(1).val();if(""==a)e.html("你的telephone number 呢？");else{var n=/^(134|155|180|150|138|156)\d{8}$/,i=n.test(a);i?e.html("可以可以！"):(e.html("错了错了，没有你这手机号"),t.eq(1).val(""))}}),a.ajax({url:"../data/region.json",success:function(t){a.each(t,function(t,e){a.each(e,function(t,d){var c=a("<option/>");c.attr({value:d.name}).html(d.name).appendTo(i),s.on("focus",function(){var i=n.val();d.name==i&&(console.log(e[t]),o.empty(),a.each(e[t].regions,function(t,e){var n=a("<option/>");n.attr({value:e.name}).html(e.name).appendTo(o),l.on("focus",function(){var t=s.val();e.name==t&&(p.empty(),a.each(e.regions,function(t,e){var n=a("<option/>");n.attr({value:e.name}).html(e.name).appendTo(p)}))})}))})})})}});var d={};t.eq(6).on("singleTap",function(){""==t.eq(0).val()||""==t.eq(1).val()||""==t.eq(2).val()||""==t.eq(3).val()||""==t.eq(4).val()||""==t.eq(5).val()?e.html("写完再走！"):(d.name=t.eq(0).val(),d.phone=t.eq(1).val(),d.sheng=t.eq(2).val(),d.shi=t.eq(3).val(),d.xian=t.eq(4).val(),d.dress=t.eq(5).val(),localStorage.setItem("data",d),location.assign("zhongxin.html"))})}),$(function(a){var t=a(".list");a.ajaxSetup({url:"../data/list.json",success:function(e){a.each(e,function(e,n){var i=a("<div/>").addClass("row-content"),s=a("<div/>").addClass("col-xs-3");s.html(n.income),i.append(s);var o=a("<div/>").addClass("col-xs-3");o.html(n.surplus),i.append(o);var l=a("<div/>").addClass("col-xs-3");l.html(n.remark),i.append(l);var p=a("<div/>").addClass("col-xs-3");p.html(n.time),i.append(p),t.append(i)})}}),a.ajax();var e=0;a(window).on("scroll",function(){var t=a(window).scrollTop();t>=a(document).height()-a(window).height()-100&&(e++,e<3&&a.ajax())})}),$(function(a){function t(a,t){i=JSON.parse(localStorage.getItem("shoppingCar")),console.log(a);for(var e=0;e<i.length;e++)i[e].title==a&&(i[e].count=t,localStorage.setItem("shoppingCar",JSON.stringify(i)),console.log(t))}function e(){var t=0;g.each(function(){var e=a(this).closest("li");this.checked&&(t+=e.find(".price i").html()*e.find(".count").val())}),a("span",".pay").html(t)}var n=a(".dataList"),i=localStorage.getItem("shoppingCar");i=i?JSON.parse(i):[];for(var s=0;s<i.length;s++){var o=a("<li/>"),l=a("<div/>").addClass("choice col-xs-1");a('<input type="checkbox" class="che" />').appendTo(l),a("<span/>").appendTo(l),o.append(l);var p=a("<div/>").addClass("goods col-xs-2");$a=a("<a/>").attr("href","goods.html"),a("<img/>").attr("src",i[s].img).appendTo($a),$a.appendTo(p),p.appendTo(o);var d=a("<div/>").addClass("info col-xs-5"),c=a("<div/>").addClass("title");a("<p/>").html(i[s].title).appendTo(c),a("<span/>").addClass("price").html("&yen;<i>"+i[s].price+"</i>").appendTo(c),c.appendTo(d),d.appendTo(o);var r=a("<div/>").addClass("num col-xs-3");a('<input type="button" value="-" class="cut" />').appendTo(r),a('<input type="text" value='+i[s].count+" />").addClass("count").appendTo(r),a('<input type="button" value="+" class="add" />').appendTo(r),r.appendTo(o),a("<span/>").addClass("glyphicon glyphicon-trash del col-xs-1").appendTo(o),o.appendTo(n)}var h=a(".allPick .che"),g=a(".che",".choice").not(".allPick .che");h.singleTap(function(){g.prop("checked",h.prop("checked")),a(".che",".choice").filter(":checked").siblings("span").addClass("pic"),a(".che",".choice").not(":checked").siblings("span").removeClass("pic"),e()}),g.singleTap(function(){var t=g.filter(":checked");h.prop("checked",g.length==t.length),a(".che",".choice").filter(":checked").siblings("span").addClass("pic"),a(".che",".choice").not(":checked").siblings("span").removeClass("pic"),e()}),n.on("singleTap",".cut",function(){var n=a(this).siblings(".count").val(),i=a(this).closest("li").find(".che");1==n?a(this).siblings(".count").val(1):a(this).siblings(".count").val(--n),i.prop("checked")&&e();var s=a(this).closest("li").find(".title p").html();t(s,n)}),n.on("singleTap",".add",function(){var n=a(this).siblings(".count").val(),i=a(this).closest("li").find(".che");a(this).siblings(".count").val(++n),i.prop("checked")&&e();var s=a(this).closest("li").find(".title p").html();t(s,n)}),n.on("singleTap",".del",function(){var t=a(this).closest("li").find(".price i").html()*a(this).closest("li").find(".count").val();a(this).closest("li").remove();var e=a("span",".pay").html()-t;a("span",".pay").html(e),i=JSON.parse(localStorage.getItem("shoppingCar"));for(var n in i)if(i[n].title==a(this).closest("li").find(".title p").html()){i.splice(n,1),localStorage.setItem("shoppingCar",JSON.stringify(i));var s=JSON.parse(localStorage.getItem("count"));localStorage.setItem("count",--s)}});var m,u={},v=[],f={},x=a(".dataList .che");a(".pay").on("touchend",function(){var t=0;alert("正在跳转!"),x.each(function(e,n){n.checked&&(f.title=a(this).closest("li").find(".title p").html(),f.price=a(this).closest("li").find(".title i").html(),f.img=a(this).closest("li").find(".goods img").attr("src"),f.count=a(this).closest("li").find(".count").val(),v.push(f),t++)}),localStorage.getItem("order")?(m=JSON.parse(localStorage.getItem("order")),u={id:parseInt(1e3*Math.random()),sum:t,goods:v},m.push(u)):(m=[],u={id:parseInt(1e3*Math.random()),sum:t,goods:v},m.push(u)),m=JSON.stringify(m);localStorage.setItem("order",m)}),a(".payMethod").singleTap(function(){a(".payment").show()}),a(".payment").on("singleTap",".del span",function(){a(this).closest(".payment").hide()})}),$(function(){var a=$(".DDsection"),t=JSON.parse(localStorage.getItem("order"));$.each(t,function(t,e){$.each(e.goods,function(t,e){console.log(e.price);var n=$("<div></div>"),i=$("<div></div>"),s=$("<div></div>"),o=$("<div></div>"),l=$("<div></div>"),p=$("<span></span>"),d=$("<span></span>");p.html("店铺1"),d.html("交易成功"),p.addClass("span1"),d.addClass("span2"),i.addClass("dingdan1_1"),p.appendTo(i),d.appendTo(i);var c=$("<div></div>"),r=$("<div></div>"),h=$("<img />");h.attr("src",e.img),h.addClass("oimg"),c.addClass("dingdan1_2_1"),h.appendTo(c),c.appendTo(s);var g=$("<h2></h2>"),m=$("<span></span>"),u=$("<span></span>");g.html(e.title),m.html(e.price),u.html(e.count),m.addClass("span3"),u.addClass("span4"),r.addClass("dingdan1_2_2"),g.appendTo(r),m.appendTo(r),u.appendTo(r),s.addClass("dingdan1_2"),r.appendTo(s);var v=$("<h3></h3>"),f=$("<b></b>"),x=$("<b></b>"),C=$("<span></span>");f.html(e.count),x.html("件商品：合计 ￥"),C.html(e.count*e.price),v.addClass("hh3"),f.appendTo(v),x.appendTo(v),C.appendTo(v),v.appendTo(o);var C=$("<span></span>"),T=$("<button></button>"),w=$("<button></button>"),b=$("<button></button>");T.html("付款"),w.html("删除订单"),b.html("查看物流"),C.addClass("span5"),T.addClass("button1"),w.addClass("button2"),b.addClass("button1"),T.appendTo(C),w.appendTo(C),b.appendTo(C),C.appendTo(l),i.addClass("dingdan1_1"),s.addClass("dingdan1_2"),o.addClass("dingdan1_3"),l.addClass("dingdan1_4"),n.addClass("dingdan1"),i.appendTo(n),s.appendTo(n),o.appendTo(n),l.appendTo(n),n.appendTo(a),w.on("singleTap",function(){console.log("aa"),w.closest(n).remove(),localStorage.removeItem("order")})})})});