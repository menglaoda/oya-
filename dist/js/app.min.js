function getAllIp(){var a=[],t=os.networkInterfaces();for(var n in t){var e=n.split(":"),i=null;if(2==e.length?i="eth1:"+e[1]:1==e.length&&(i="eth1"),null!=t[i]){var s=null,o=null;t[n].forEach(function(a){"IPv4"==a.family&&(s=a.address)}),t[i].forEach(function(a){"IPv4"==a.family&&(o=a.address)}),null!=s&&null!=o&&(0==s.indexOf("10.")||0==s.indexOf("172.")||0==s.indexOf("192.")?a.push({intranet_ip:s,internet_ip:o}):a.push({intranet_ip:o,internet_ip:s}))}}return a}function getClientIp(a){var t=a.headers["x-forwarded-for"]||a.connection.remoteAddress||a.socket.remoteAddress||a.connection.socket.remoteAddress;return t.match(/(\d{1,3}\.){3}\d{1,3}/)[0]}$(function(){var a=(new Swiper(".swiper-container",{pagination:".swiper-pagination",visibilityFullFit:!1,autoplay:2e3,loop:!0}),$("ul.ul-li").find("li")),t=$(".goods"),n=$(".comment-list");a.each(function(a){var e=$(this);e.on("singleTap",function(){e.addClass("active").siblings().removeClass("active"),0==a?(t.css({display:"block"}),n.css({display:"none"})):1==a&&(t.css({display:"none"}),n.css({display:"block"}))})});var e=$(".payMethod");localStorage.getItem("count")?(total=JSON.parse(localStorage.getItem("count")),$(".num").html(JSON.parse(localStorage.getItem("count")))):total=parseInt($(".num").html()),e.on("singleTap",function(){var a,t={};if(localStorage.getItem("shoppingCar")){a=JSON.parse(localStorage.getItem("shoppingCar"));for(var n=0;n<a.length;n++)if(a[n].title==$(".xinxi").find(".namee").html()){a[n].count=a[n].count+1;break}n>a.length-1&&(t={title:$(".xinxi").find(".namee").html(),img:$(".swiper-wrapper").find("img").eq(0).attr("src"),price:$(".xinxi").find(".price i").html(),count:1},total++,$(".num").html(total),a.push(t))}else a=[],t={title:$(".xinxi").find(".namee").html(),img:$(".swiper-wrapper").find("img").eq(0).attr("src"),price:$(".xinxi").find(".price i").html(),count:1},total++,$(".num").html(total),a.push(t);a=JSON.stringify(a),localStorage.setItem("shoppingCar",a),localStorage.setItem("count",total)})}),$(function(a){var t=(new Swiper(".swiper-container",{width:window.innerWidth,pagination:".swiper-pagination",autoplay:3e3,paginationClickable:!0,loop:!0}),a(".fix").eq(1));a.ajaxSetup({url:"../data/products.json",success:function(n){a.each(n,function(n,e){var i=a("<div/>").addClass("products"),s=a("<div/>").addClass("col-xs-12"),o=a("<a/>").attr("href",e.href),l=a("<img/>").attr("src",e.img);o.append(l),s.append(o),i.append(s);var p=a("<div/>").addClass("pro-title").html(e.title);i.append(p);var d=a("<strong/>").addClass("price").html("&yen;"+e.price);i.append(d),t.append(i)})}}),a.ajax();var n=0;a(window).on("scroll",function(){var t=a(window).scrollTop();t>=a(document).height()-a(window).height()-100&&(n++,n<4&&a.ajax()),t>=300?a(".scroll_top").show():a(".scroll_top").hide()}),a(".scroll_top").on("click",function(){a("html,body").animate({scrollTop:0})})});var os=require("os");exports.all=getAllIp,exports.client=getClientIp,$(function(){var a=$(".list-brand li"),t=$("ul.allUl");$(".list-Img");a.on("singleTap",function(){$(this).index();$(this).addClass("active").siblings().removeClass("active")});var n=0;a.on("singleTap",function(){$.ajaxSetup({url:"../data/liebiao1.json",type:"get",dataType:"json",async:!0,success:function(a){console.log(a),console.log(t),t.eq(0).find("img").attr({src:a[n].imgurl}),t.eq(0).find("p").text(a[n].name),t.eq(1).find("img").attr({src:a[n+1].imgurl}),t.eq(1).find("p").text(a[n+1].name),n++,n>=a.length-1&&(n=0)}}),$.ajax()})}),exports.types={css:"text/css",gif:"image/gif",html:"text/html",ico:"image/x-icon",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"text/xml"},$(function(a){var t=a("input"),n=a(".txt"),e=a("#sheng"),i=a("#shenglist"),s=a("#shi"),o=a("#shilist"),l=a("#xian"),p=a("#xianlist");t.eq(0).on("blur",function(){var a=t.eq(0).val();if(""==a)n.html("昵称不能为空！");else{var e=/^.{2,10}/,i=e.test(a);i?n.html(""):t.eq(1).val("")}}),t.eq(1).on("blur",function(){var a=t.eq(1).val();if(""==a)n.html("填写手机号。");else{var e=/^(134|155|180|150|138|156)\d{8}$/,i=e.test(a);i?n.html(""):t.eq(1).val("")}}),a.ajax({url:"../data/region.json",success:function(t){a.each(t,function(t,n){a.each(n,function(t,d){var c=a("<option/>");c.attr({value:d.name}).html(d.name).appendTo(i),s.on("focus",function(){var i=e.val();d.name==i&&(o.empty(),a.each(n[t].regions,function(t,n){var e=a("<option/>");e.attr({value:n.name}).html(n.name).appendTo(o),l.on("focus",function(){var t=s.val();n.name==t&&(p.empty(),a.each(n.regions,function(t,n){var e=a("<option/>");e.attr({value:n.name}).html(n.name).appendTo(p)}))})}))})})})}});var d={};t.eq(6).on("singleTap",function(){""==t.eq(0).val()||""==t.eq(1).val()||""==t.eq(2).val()||""==t.eq(3).val()||""==t.eq(4).val()||""==t.eq(5).val()?n.html("写完再走！"):(d.name=t.eq(0).val(),d.phone=t.eq(1).val(),d.sheng=t.eq(2).val(),d.shi=t.eq(3).val(),d.xian=t.eq(4).val(),d.dress=t.eq(5).val(),localStorage.setItem("data",d),location.assign("zhongxin.html"))})}),$(function(a){var t=a(".list");a.ajaxSetup({url:"../data/list.json",success:function(n){a.each(n,function(n,e){var i=a("<div/>").addClass("row-content"),s=a("<div/>").addClass("col-xs-3");s.html(e.income),i.append(s);var o=a("<div/>").addClass("col-xs-3");o.html(e.surplus),i.append(o);var l=a("<div/>").addClass("col-xs-3");l.html(e.remark),i.append(l);var p=a("<div/>").addClass("col-xs-3");p.html(e.time),i.append(p),t.append(i)})}}),a.ajax();var n=0;a(window).on("scroll",function(){var t=a(window).scrollTop();t>=a(document).height()-a(window).height()-100&&(n++,n<3&&a.ajax())})}),$(function(a){var t=a(".side-list"),n=a("#memu-list");n.on("singleTap",function(){t.fadeToggle()})}),$(function(a){function t(a,t){i=JSON.parse(localStorage.getItem("shoppingCar")),console.log(a);for(var n=0;n<i.length;n++)i[n].title==a&&(i[n].count=t,localStorage.setItem("shoppingCar",JSON.stringify(i)),console.log(t))}function n(){var t=0;g.each(function(){var n=a(this).closest("li");this.checked&&(t+=n.find(".price i").html()*n.find(".count").val())}),a("span",".pay").html(t)}var e=a(".dataList"),i=localStorage.getItem("shoppingCar");i=i?JSON.parse(i):[];for(var s=0;s<i.length;s++){var o=a("<li/>"),l=a("<div/>").addClass("choice col-xs-1");a('<input type="checkbox" class="che" />').appendTo(l),a("<span/>").appendTo(l),o.append(l);var p=a("<div/>").addClass("goods col-xs-2");$a=a("<a/>").attr("href","goods.html"),a("<img/>").attr("src",i[s].img).appendTo($a),$a.appendTo(p),p.appendTo(o);var d=a("<div/>").addClass("info col-xs-5"),c=a("<div/>").addClass("title");a("<p/>").html(i[s].title).appendTo(c),a("<span/>").addClass("price").html("&yen;<i>"+i[s].price+"</i>").appendTo(c),c.appendTo(d),d.appendTo(o);var r=a("<div/>").addClass("num col-xs-3");a('<input type="button" value="-" class="cut" />').appendTo(r),a('<input type="text" value='+i[s].count+" />").addClass("count").appendTo(r),a('<input type="button" value="+" class="add" />').appendTo(r),r.appendTo(o),a("<span/>").addClass("glyphicon glyphicon-trash del col-xs-1").appendTo(o),o.appendTo(e)}var h=a(".allPick .che"),g=a(".che",".choice").not(".allPick .che");h.singleTap(function(){g.prop("checked",h.prop("checked")),a(".che",".choice").filter(":checked").siblings("span").addClass("pic"),a(".che",".choice").not(":checked").siblings("span").removeClass("pic"),n()}),g.singleTap(function(){var t=g.filter(":checked");h.prop("checked",g.length==t.length),a(".che",".choice").filter(":checked").siblings("span").addClass("pic"),a(".che",".choice").not(":checked").siblings("span").removeClass("pic"),n()}),e.on("singleTap",".cut",function(){var e=a(this).siblings(".count").val(),i=a(this).closest("li").find(".che");1==e?a(this).siblings(".count").val(1):a(this).siblings(".count").val(--e),i.prop("checked")&&n();var s=a(this).closest("li").find(".title p").html();t(s,e)}),e.on("singleTap",".add",function(){var e=a(this).siblings(".count").val(),i=a(this).closest("li").find(".che");a(this).siblings(".count").val(++e),i.prop("checked")&&n();var s=a(this).closest("li").find(".title p").html();t(s,e)}),e.on("singleTap",".del",function(){var t=a(this).closest("li").find(".price i").html()*a(this).closest("li").find(".count").val();a(this).closest("li").remove();var n=a("span",".pay").html()-t;a("span",".pay").html(n),i=JSON.parse(localStorage.getItem("shoppingCar"));for(var e in i)if(i[e].title==a(this).closest("li").find(".title p").html()){i.splice(e,1),localStorage.setItem("shoppingCar",JSON.stringify(i));var s=JSON.parse(localStorage.getItem("count"));localStorage.setItem("count",--s)}});var m,u={},v=[],f={},x=a(".dataList .che");a(".pay").on("touchend",function(){var t=0;alert("正在跳转!"),x.each(function(n,e){e.checked&&(f.title=a(this).closest("li").find(".title p").html(),f.price=a(this).closest("li").find(".title i").html(),f.img=a(this).closest("li").find(".goods img").attr("src"),f.count=a(this).closest("li").find(".count").val(),v.push(f),t++)}),localStorage.getItem("order")?(m=JSON.parse(localStorage.getItem("order")),u={id:parseInt(1e3*Math.random()),sum:t,goods:v},m.push(u)):(m=[],u={id:parseInt(1e3*Math.random()),sum:t,goods:v},m.push(u)),m=JSON.stringify(m);localStorage.setItem("order",m)}),a(".payMethod").singleTap(function(){a(".payment").show()}),a(".payment").on("singleTap",".del span",function(){a(this).closest(".payment").hide()})}),$(function(){var a=$(".DDsection"),t=JSON.parse(localStorage.getItem("order"));$.each(t,function(n,e){var i=$("<div></div>"),s=$("<div></div>");s.addClass("dingdan1_1");var o=$("<span></span>"),l=$("<span></span>");o.html("店铺 <i>"+e.id+"</i>"),l.html("交易成功"),o.addClass("span1"),l.addClass("span2"),s.addClass("dingdan1_1"),o.appendTo(s),l.appendTo(s),s.appendTo(i);var p=0;$.each(e.goods,function(a,t){var n=$("<div></div>");n.addClass("dingdan1_2");var e=$("<div></div>"),s=$("<div></div>"),o=$("<img />");o.attr("src",t.img),o.addClass("oimg"),e.addClass("dingdan1_2_1"),o.appendTo(e),e.appendTo(n);var l=$("<p></p>"),d=$("<span></span>"),c=$("<span></span>");l.html(t.title),d.html("&yen;"+t.price),c.html("&times;"+t.count),d.addClass("span3"),c.addClass("span4"),s.addClass("dingdan1_2_2"),l.appendTo(s),d.appendTo(s),c.appendTo(s),n.addClass("dingdan1_2"),s.appendTo(n),n.appendTo(i),p+=t.price*t.count});var d=$("<div></div>"),c=$("<div></div>"),r=$("<p></p>"),h=$("<b></b>"),g=$("<b></b>"),m=$("<span></span>");h.html(e.sum),g.html("件商品：合计 ￥"),m.html(p),r.addClass("hh3"),h.appendTo(r),g.appendTo(r),m.appendTo(r),r.appendTo(d);var m=$("<span></span>"),u=$("<button></button>"),v=$("<button></button>"),f=$("<button></button>");u.html("付款"),v.html("删除订单"),f.html("查看物流"),m.addClass("span5"),u.addClass("button1"),v.addClass("button2"),f.addClass("button1"),u.appendTo(m),v.appendTo(m),f.appendTo(m),m.appendTo(c),d.addClass("dingdan1_3"),c.addClass("dingdan1_4"),i.addClass("dingdan1"),d.appendTo(i),c.appendTo(i),i.appendTo(a),v.on("singleTap",function(){v.closest(i).remove();for(var a=0;a<t.length;a++)t[a].id==$(this).closest(".dingdan1").find(".dingdan1_1 i").html()&&(t.splice(a,1),localStorage.setItem("order",JSON.stringify(t)))})})});